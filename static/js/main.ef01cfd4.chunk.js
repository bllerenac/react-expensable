(this["webpackJsonpreact-expensable"]=this["webpackJsonpreact-expensable"]||[]).push([[0],{45:function(n,e,t){},51:function(n,e,t){},54:function(n,e,t){"use strict";t.r(e);var r,a,o,c,i,s,l,u=t(0),d=t.n(u),f=t(27),p=t.n(f),b=(t(45),t(11)),h=t(8),g=t(12),x=t.n(g),j=t(21),m="https://expensable-api.herokuapp.com/",O=Object(b.b)("session/fetchLogin",function(){var n=Object(j.a)(x.a.mark((function n(e){var t,r;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(m,"/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:return t=n.sent,n.next=5,t.json();case 5:if(r=n.sent,t.ok){n.next=8;break}throw new Error(r.errors.message);case 8:return n.abrupt("return",{token:r.token});case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),F=Object(b.b)("session/fetchLogout",function(){var n=Object(j.a)(x.a.mark((function n(e){var t,r;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(m,"/logout"),{method:"POST",headers:{Authorization:"Bearer ".concat(e)}});case 2:if((t=n.sent).ok){n.next=8;break}return n.next=6,t.json();case 6:throw r=n.sent,new Error(r.errors.message);case 8:return n.abrupt("return",!0);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),y=Object(b.c)({name:"session",initialState:{token:sessionStorage.getItem("token"),error:null},reducers:{killToken:function(n){sessionStorage.removeItem("token"),n.token=null}},extraReducers:(r={},Object(h.a)(r,F.fulfilled,(function(n,e){sessionStorage.removeItem("token"),n.error=null,n.token=null})),Object(h.a)(r,F.rejected,(function(n,e){n.error=e.error.message})),Object(h.a)(r,O.fulfilled,(function(n,e){n.error=null,n.token=e.payload.token})),Object(h.a)(r,O.rejected,(function(n,e){n.error=e.error.message})),r)}),v=y.actions.killToken,k=y.reducer,w=Object(b.b)("session/fetchSignup",function(){var n=Object(j.a)(x.a.mark((function n(e){var t,r;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(m,"/profile"),{method:"POST",body:e});case 2:return t=n.sent,n.next=5,t.json();case 5:if(r=n.sent,t.ok){n.next=8;break}throw new Error(JSON.stringify(r));case 8:return n.abrupt("return",{user:r});case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),E=Object(b.b)("session/fetchProfile",function(){var n=Object(j.a)(x.a.mark((function n(e){var t,r;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(m,"/profile"),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}});case 2:return t=n.sent,n.next=5,t.json();case 5:if(r=n.sent,t.ok){n.next=8;break}throw new Error(r.errors.message);case 8:return n.abrupt("return",{user:r});case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),S=Object(b.c)({name:"users",initialState:{profile:{},status:"idle",errors:{}},extraReducers:(a={},Object(h.a)(a,E.pending,(function(n,e){n.status="loading"})),Object(h.a)(a,E.fulfilled,(function(n,e){n.status="succeeded",n.profile=e.payload.user})),Object(h.a)(a,E.rejected,(function(n,e){n.status="failed",n.errors={user:e.error.message}})),Object(h.a)(a,w.pending,(function(n,e){n.status="loading"})),Object(h.a)(a,w.fulfilled,(function(n,e){n.status="succeeded",n.profile=e.payload.user})),Object(h.a)(a,w.rejected,(function(n,e){n.status="failed",n.errors=JSON.parse(e.error.message)})),a)}).reducer,z=Object(b.b)("products/fetchProducts",function(){var n=Object(j.a)(x.a.mark((function n(e){var t,r;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(m,"/categories"),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}});case 2:return t=n.sent,n.next=5,t.json();case 5:if(r=n.sent,t.ok){n.next=9;break}throw console.log(r),new Error("Something went wrong");case 9:return n.abrupt("return",{products:r});case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),D=Object(b.c)({name:"categories",initialState:{items:[],status:"idle",error:null},extraReducers:(o={},Object(h.a)(o,z.pending,(function(n,e){n.status="loading"})),Object(h.a)(o,z.fulfilled,(function(n,e){n.status="succeeded",n.items=e.payload.products})),Object(h.a)(o,z.rejected,(function(n,e){n.status="failed",n.error=e.error.message})),o)}).reducer,C=Object(b.a)({reducer:{products:D,session:k,users:S}}),I=t(10),T=t(2),B=t(18),P=t(25),R=t(6),L=(t(51),t(4)),J=t(26),A=t(5),N=L.a.p(c||(c=Object(T.a)(["\n  font-family: 'Inter', sans-serif;\n  font-style: normal;\n  font-weight: normal;\n  text-align: center;\n  color: #4F4F4F;\n  margin: 0px;\n"])));function G(){var n=Object(I.c)((function(n){return n.session.error}));return Object(A.jsx)(N,{className:"error",children:n})}var M,W=L.a.label(i||(i=Object(T.a)(["\n  font-family:'Roboto', sans-serif;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 14px;\n  line-height: 24px;\n  color: #4F4F4F;\n  display: flex;\n  flex-direction: column;\n  gap:4px;\n"]))),$=L.a.input(s||(s=Object(T.a)(["\n  background: #FFFFFF;\n  border: 1px solid #2F80ED;\n  border-radius: 8px;\n  padding: 8px 16px;\n  outline: none;\n"])));L.a.textarea(l||(l=Object(T.a)(["\n  background: #FFFFFF;\n  border: 1px solid #2F80ED;\n  border-radius: 8px;\n  padding: 8px 16px;\n"])));function _(n){var e=n.value,t=n.placeholder,r=n.label,a=n.type,o=n.onChange;return Object(A.jsxs)(W,{children:[r,Object(A.jsx)($,{value:e,placeholder:t,type:a,onChange:o})]})}var q=L.a.form(M||(M=Object(T.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n"])));function H(n){var e=n.id,t=Object(I.b)(),r=Object(u.useState)(""),a=Object(J.a)(r,2),o=a[0],c=a[1],i=Object(u.useState)(""),s=Object(J.a)(i,2),l=s[0],d=s[1];return Object(A.jsxs)(q,{onSubmit:function(n){n.preventDefault(),t(O({email:o,password:l}))},id:e,children:[Object(A.jsx)(G,{}),Object(A.jsx)(_,{value:o,placeholder:"email",label:"Email Address",type:"email",onChange:function(n){c(n.target.value)}}),Object(A.jsx)(_,{value:l,placeholder:"password",label:"Password",type:"password",onChange:function(n){d(n.target.value)}})]})}var K,Q,U,V,X,Y,Z,nn,en=t(1),tn=L.a.div(K||(K=Object(T.a)(["\n  display: flex;\n"]))),rn=L.a.label(Q||(Q=Object(T.a)(["\nfont-family: 'Inter', sans-serif;\nfont-style: normal;\nfont-weight: normal;\nfont-size: 18px;\nline-height: 24px;\ntext-align: center;\ncolor: #BDBDBD;\nborder: none;\npadding-bottom: 6px;\nbackground-color: transparent;\nbackground-image: linear-gradient(#2F80ED, #2F80ED);\nbackground-position: 0% 100%;\nbackground-repeat: no-repeat;\nbackground-size: 0% 2px;\ntransition: background-size .3s;\noutline: none;\n&:hover{\n  color: #4F4F4F;\n  background-size: 100% 2px;\n}\n"]))),an=L.a.input(U||(U=Object(T.a)(["\ndisplay: none;\n&:checked + label{\n  color: #4F4F4F;\n  background-size: 100% 2px;\n}\n"]))),on=L.a.button(V||(V=Object(T.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: fit-content;\n  font-family: 'Roboto', sans-serif;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 18px;\n  line-height: 24px;\n  padding: 8px 16px;\n  margin: auto;\n  background: #2F80ED;\n  border-radius: 8px;\n  border: none;\n  color: #FFFFFF;\n  outline: none;\n  &:hover{\n    background: #2D9CDB;\n  }\n"]))),cn=L.a.button(X||(X=Object(T.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: fit-content;\n  font-family: 'Roboto', sans-serif;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 18px;\n  line-height: 24px;\n  padding: 8px 16px;\n  margin: auto;\n  background: #FFFFFF;\n  border-radius: 8px;\n  border: 1px solid #2F80ED;\n  color: #2F80ED;\n  outline: none;\n  &:hover{\n    background: rgba(47, 128, 237, 0.1);\n  }\n"])));function sn(n){var e=n.label,t=n.name,r=n.status,a=n.value;return Object(en.b)(tn,{children:[Object(en.a)(an,{name:t,type:"radio",id:e,value:a,defaultChecked:!!r}),Object(en.a)(rn,{htmlFor:e,children:e})]})}var ln=L.a.h1(Y||(Y=Object(T.a)(["\n  font-family: 'Inter', sans-serif;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 30px;\n  line-height: 40px;\n  text-align: center;\n  margin: 0px;\n  color: #4F4F4F;\n"]))),un=L.a.h5(Z||(Z=Object(T.a)(["\n  font-family: 'Inter', sans-serif;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 16px;\n  line-height: 24px;\n  text-align: center;\n  color: #4F4F4F;\n  margin: 0px;\n"])));var dn,fn,pn,bn,hn,gn,xn,jn=function(){var n=Object(I.c)((function(n){return n.session.token}));return n?(sessionStorage.setItem("token",n),Object(en.a)(R.a,{to:"/home"})):Object(en.b)("div",{css:Object(B.a)(nn||(nn=Object(T.a)(["\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        height: calc(100% - 120px);\n        padding: 60px 50px 40px;\n        gap: 32px;\n      "]))),children:[Object(en.a)(ln,{children:"Welcome to Expensable"}),Object(en.a)(un,{children:"Please login to start using the app"}),Object(en.a)(H,{id:"login-form"}),Object(en.a)(on,{type:"submit",form:"login-form",children:"Login"})]})},mn=L.a.h1(dn||(dn=Object(T.a)(["\n  font-family: 'Inter', sans-serif;\n  font-style: normal;\n  font-weight: 400;\n  font-size: 30px;\n  line-height: 40px;\n  text-align: center;\n  margin: 0px;\n  color: #4F4F4F;\n"]))),On=L.a.h5(fn||(fn=Object(T.a)(["\n  font-family: 'Inter', sans-serif;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 16px;\n  line-height: 24px;\n  text-align: center;\n  color: #4F4F4F;\n  margin: 0px;\n"]))),Fn=L.a.p(pn||(pn=Object(T.a)(["\n  font-family: 'Roboto', sans-serif;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 14px;\n  line-height: 24px;\n  text-align: center;\n  color: #4F4F4F;\n  margin: 0px;\n"]))),yn=L.a.p(bn||(bn=Object(T.a)(["\n  font-family: 'Roboto', sans-serif;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 20px;\n  line-height: 32px;\n  color: #4F4F4F;\n  margin: 0px;\n"]))),vn=t(40),kn=L.a.div(hn||(hn=Object(T.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  min-width: 150px;\n  background: #FFFFFF;\n  box-shadow: 0px 4px 16px rgba(0, 0, 0, 0.1);\n  border-radius: 8px;\n  padding: 16px 0px;\n  gap: 20px;\n"]))),wn=L.a.div(gn||(gn=Object(T.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 10px;\n  border: 1px solid #2F80ED;\n  border-radius: 50%;\n"])));function En(n){var e=0;return n&&n.forEach((function(n){e+=n.amount})),e}var Sn,zn=function(n){var e=n.name,t=n.transactions,r=n.items,a=n.onClick;return Object(en.b)(kn,{onClick:a,children:[Object(en.b)("div",{children:[Object(en.a)(On,{children:e}),Object(en.b)(Fn,{children:[t," transactions"]})]}),Object(en.b)(yn,{children:["$",En(r)]}),Object(en.a)(wn,{children:Object(en.a)(vn.a,{css:Object(B.a)(xn||(xn=Object(T.a)(["\n            width: 20px;\n            height: 20px;\n            path{\n              stroke: #2F80ED;\n            }\n          "])))})})]})},Dn=L.a.div(Sn||(Sn=Object(T.a)(["\n  display:flex;\n  flex-direction: row;\n  justify-content: center;\n  flex-wrap: wrap;\n  gap: 16px;\n"])));var Cn,In,Tn,Bn=function(n){var e=n.data;return Object(en.a)(Dn,{children:e.map((function(n){return Object(en.a)(zn,{name:n.name,transactions:n.transactions.length,items:n.transactions},n.id)}))})},Pn=L.a.form(Cn||(Cn=Object(T.a)(["\n  display:flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n"])));function Rn(){var n=Object(I.b)(),e=Object(I.c)((function(n){return n.session.token})),t=Object(I.c)((function(n){return n.products.items})),r=Object(I.c)((function(n){return n.products.status})),a=Object(I.c)((function(n){return n.products.error})),o=Object(u.useState)(null),c=Object(J.a)(o,2),i=c[0],s=c[1];return"idle"===r&&n(z(e)),e?Object(en.b)("div",{css:Object(B.a)(In||(In=Object(T.a)(["\n        display:flex;\n        flex-direction: column;\n        overflow: auto;\n        padding: 32px 0px;\n        gap: 32px;\n      "]))),children:[Object(en.a)(mn,{children:"Expensable"}),"loading"===r&&Object(en.a)("p",{children:"Loading..."}),"failed"===r&&Object(en.b)("p",{children:[a," ",Object(en.a)(P.b,{to:"/",onClick:function(e){return n(v())},children:"Try to login again"})]}),Object(en.b)(Pn,{onChange:function(n){var e=new RegExp(n.target.value,"i"),r=t.filter((function(n){return e.test(n.transaction_type)}));console.log(r),s(r)},children:[Object(en.a)(sn,{label:"Expenses",name:"type",value:"expense",status:!0}),Object(en.a)(sn,{label:"Income",name:"type",value:"income"})]}),"succeeded"===r&&Object(en.a)(Bn,{data:i||t}),Object(en.a)(cn,{onClick:function(e){return n(v())},children:"LogOut"})]}):Object(en.a)(R.a,{to:"/"})}var Ln=function(){return Object(en.a)(P.a,{children:Object(en.b)("div",{css:Object(B.a)(Tn||(Tn=Object(T.a)(["\n          overflow: auto;\n          margin: auto;\n          height: 100vh;\n          width: 375px;\n          background: #FFFFFF;\n        "]))),children:[Object(en.a)(R.b,{exact:!0,path:"/",component:jn}),Object(en.a)(R.b,{path:"/home",component:Rn})]})})},Jn=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,55)).then((function(e){var t=e.getCLS,r=e.getFID,a=e.getFCP,o=e.getLCP,c=e.getTTFB;t(n),r(n),a(n),o(n),c(n)}))};p.a.render(Object(A.jsx)(d.a.StrictMode,{children:Object(A.jsx)(I.a,{store:C,children:Object(A.jsx)(Ln,{})})}),document.getElementById("root")),Jn()}},[[54,1,2]]]);
//# sourceMappingURL=main.ef01cfd4.chunk.js.map